/*
 * =====================================================================================
 *
 *       Filename:  calculette.c
 *
 *    Description:  
 *
 *        Version:  1.0
 *        Created:  16.02.2014 18:43:04
 *       Revision:  none
 *       Compiler:  clang
 *
 *         Author:  Loïc BARTOLETTI (), coder@tuxfamily.org
 *   Organization:  
 *
 * =====================================================================================
 */


#include    <stdio.h>
#include	<stdlib.h>
#include    <ctype.h>

/* 
 * ===  FUNCTION  ======================================================================
 *         Name:  main
 *  Description:  
 * =====================================================================================
 */
int main ( int argc, char *argv[] )
{
    int somme = 0;
    int nb=0;
    char caract;
    char signe = '+';
    int first = 1;

    printf("Entrez une expression math :\n");
    while((caract=getchar()) != '\n')
    {
        if(isdigit(caract))
        {
            nb *= 10;
            nb += caract-48;
        }
        else if((caract == '+') || (caract == '-'))
        {
            if(signe == '+')
                somme += nb;
            if(signe == '-')
                somme -= nb;
            signe = caract;
            nb=0;
        }

                
    }
    if(signe == '+')
        somme += nb;
    if(signe == '-')
        somme -= nb;

    printf("résultat : %d\n", somme);
    return EXIT_SUCCESS;
}				/* ----------  end of function main  ---------- */
