#!/usr/bin/env python
#-*- coding:utf-8 -*-

from Tkinter import *
from DMS_D import *

def eval_DD_DMS(*args):
    try:
        value = float(ddEntry.get())
        txtResult.set(str(value) + " => " + deg2dms(value))
    except ValueError:
        pass

def eval_DMS_DD(*args):
    try:
        deg = int(dms_dEntry.get())
        min = int(dms_mEntry.get())
        sec = int(dms_sEntry.get())
        dms = str(deg) + "°" + str(min) + "\"" + str(sec) + "'"
        txtResult.set(dms + " => " + dms2deg(deg, min, sec))
    except ValueError:
        pass

if __name__ == "__main__":
    fenetre = Tk()
    lab = Label(text='Degrés décimaux')
    lab.grid(row=0, column=1)
    dms_dEntry = StringVar()
    dms_mEntry = StringVar()
    dms_sEntry = StringVar()
    ddEntry = StringVar()
    entree_DD = Entry(fenetre, textvariable=ddEntry)
    entree_DD.grid(row=1, column=1)
    entree_DMS_D = Entry(fenetre, textvariable=dms_dEntry)
    entree_DMS_M = Entry(fenetre, textvariable=dms_mEntry)
    entree_DMS_S = Entry(fenetre, textvariable=dms_sEntry)
    txt_D, txt_M, txt_S = Label(text='Degrés'), Label(text='Minutes'), Label(text='Secondes')
    txt_D.grid(row=2, column=0)
    txt_M.grid(row=2, column=1)
    txt_S.grid(row=2, column=2)
    entree_DMS_D.grid(row=3, column=0)
    entree_DMS_M.grid(row=3, column=1)
    entree_DMS_S.grid(row=3, column=2)
    button_DMS_DD = Button(text='DMS->DD', command=eval_DMS_DD).grid(row=4, column=0)
    button_DD_DMS = Button(text='DD->DMS', command=eval_DD_DMS).grid(row=4, column=2)
    txtResult = StringVar()
    label = Label(fenetre, textvariable=txtResult).grid(row=5, column=1)

    entree_DMS_D.focus()
    entree_DMS_M.focus()
    entree_DMS_S.focus()
    entree_DD.focus()

    fenetre.mainloop()

